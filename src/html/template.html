<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>CinsImp Prototype</title>
<link rel="apple-touch-icon" sizes="57x57" href="icon/apple-icon-57x57.png">
<link rel="apple-touch-icon" sizes="60x60" href="icon/apple-icon-60x60.png">
<link rel="apple-touch-icon" sizes="72x72" href="icon/apple-icon-72x72.png">
<link rel="apple-touch-icon" sizes="76x76" href="icon/apple-icon-76x76.png">
<link rel="apple-touch-icon" sizes="114x114" href="icon/apple-icon-114x114.png">
<link rel="apple-touch-icon" sizes="120x120" href="icon/apple-icon-120x120.png">
<link rel="apple-touch-icon" sizes="144x144" href="icon/apple-icon-144x144.png">
<link rel="apple-touch-icon" sizes="152x152" href="icon/apple-icon-152x152.png">
<link rel="apple-touch-icon" sizes="180x180" href="icon/apple-icon-180x180.png">
<link rel="icon" type="image/png" sizes="192x192"  href="icon/android-icon-192x192.png">
<link rel="icon" type="image/png" sizes="32x32" href="icon/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="96x96" href="icon/favicon-96x96.png">
<link rel="icon" type="image/png" sizes="16x16" href="icon/favicon-16x16.png">
<link rel="manifest" href="icon/manifest.json">
<meta name="msapplication-TileColor" content="#ffffff">
<meta name="msapplication-TileImage" content="icon/ms-icon-144x144.png">
<meta name="theme-color" content="#ffffff">

<link rel="stylesheet" type="text/css" href="../css/base.css">
<link rel="stylesheet" type="text/css" href="../css/widgets.css">
<link rel="stylesheet" type="text/css" href="../css/override.css">
<link rel="stylesheet" type="text/css" href="../css/objects.css">

<script>
// allows the basic template to work outside of the application;
// is patched automatically by the application at runtime
var gBase = '../';
</script>

<script language="javascript" type="text/javascript" src="../js/util.js"></script>
<script language="javascript" type="text/javascript" src="../js/ajax.js"></script>
<script language="javascript" type="text/javascript" src="../js/drag.js"></script>
<script language="javascript" type="text/javascript" src="../js/palette.js"></script>
<script language="javascript" type="text/javascript" src="../js/popup-menu.js"></script>
<script language="javascript" type="text/javascript" src="../js/dialog.js"></script>
<script language="javascript" type="text/javascript" src="../js/colours.js"></script>
<script language="javascript" type="text/javascript" src="../js/object.js"></script>
<script language="javascript" type="text/javascript" src="../js/field.js"></script>
<script language="javascript" type="text/javascript" src="../js/button.js"></script>
<script language="javascript" type="text/javascript" src="../js/view.js"></script>
<script language="javascript" type="text/javascript" src="../js/paint.js"></script>
<script language="javascript" type="text/javascript" src="../js/application.js"></script>
<script language="javascript" type="text/javascript" src="../js/progress.js"></script>

<script>



function openApplicationMenu(el)
{
	var r = el.getBoundingClientRect();
	
	PopupMenu.ApplicationMenu.item(0).checkmark = Palette.Navigator.getVisible();
	PopupMenu.ApplicationMenu.item(1).checkmark = Palette.MessageBox.getVisible();
	PopupMenu.ApplicationMenu.item(2).checkmark = Palette.Tools.getVisible();
	PopupMenu.ApplicationMenu.item(3).checkmark = Palette.Authoring.getVisible();
	PopupMenu.ApplicationMenu.item(4).checkmark = Palette.Colours.getVisible();
	
	PopupMenu.ApplicationMenu.open([r.left - 4,20], 'right');
}

</script>

</head>
<body class="noselect">
<form>


<div id="stackWindow" class="CursBrowse" style="width: 800px; height: 600px;">

<!-- search engines can get a single card prepared and put in staticly here
by the server-side php code;

application view will replace the content of the stack window with the relevant
layers depending on the mode of the application -->

</div>


<div id="PaletteNavigator" class="PaletteTemplate" style="left: 100px; top: 550px;">

<div class="ButtonsRow">
	<div title="Home"><img src="../gfx/home.png" width="32" onclick="test()"><div>Home</div></div>
	<div title="Help"><img src="../gfx/help.png" width="32"><div>Help</div></div>
	<div title="Recent"><img src="../gfx/recent.png" width="32"><div>Recent</div></div>
	<div title="Back"><img src="../gfx/back.png" width="32"><div>Back</div></div>
	<div class="Spacer"></div>
	<div title="First" onclick="Application.go_first();"><img src="../gfx/first.png" width="32"><div>First</div></div>
	<div title="Previous" onclick="Application.go_prev();"><img src="../gfx/prev.png" width="32"><div>Previous</div></div>
	<div title="Next" onclick="Application.go_next();"><img src="../gfx/next.png" width="32"><div>Next</div></div>
	<div title="Last" onclick="Application.go_last();"><img src="../gfx/last.png" width="32"><div>Last</div></div>
	<div class="Spacer"></div>
	<div title="Find" onclick="Application.do_find()"><img src="../gfx/find.png" width="32"><div>Find</div></div>
	<div title="Message" onclick="Palette.MessageBox.toggle()"><img src="../gfx/message.png" width="32"><div>Message</div></div>
	<div class="Spacer"></div>
	<div title="New" onclick="Application.do_new();"><img src="../gfx/new.png" width="32"><div>New</div></div>
	<div title="Delete" onclick="Application.do_delete();"><img src="../gfx/delete.png" width="32"><div>Delete</div></div>
	<!--<div class="Spacer"></div>
	<div title="Share"><img src="../gfx/share.png" width="32"><div>Share</div></div>-->
</div>

</div>


<div id="PaletteAuthoring" class="PaletteTemplate" style="left: 180px; top: 450px;">

<div class="ButtonsRow">
	<div title="Object Info" title="Object Info" onclick="Application.do_info()"><img src="../gfx/info.png" width="32"><div>Object Info</div></div>
	<div title="Edit Bkgnd" onclick="Application.edit_bkgnd()"><img src="../gfx/bkgnd.png" width="32"><div id="EditBkgndLabel">Edit Bkgnd</div></div>
	<div class="Spacer"></div>
	<div title="Front" onclick="Application.send_to_front();"><img src="../gfx/tofront.png" width="32"><div>Front</div></div>
	<div title="Closer" onclick="Application.send_forward();"><img src="../gfx/forward.png" width="32"><div>Closer</div></div>
	<div title="Farther" onclick="Application.send_backward();"><img src="../gfx/backward.png" width="32"><div>Farther</div></div>
	<div title="Back" onclick="Application.send_to_back();"><img src="../gfx/toback.png" width="32"><div>Back</div></div>
	<div class="Spacer"></div>
	<div title="Options"><img src="../gfx/options.png" width="32"><div>Options</div></div>
	<div class="Spacer"></div>
	<div title="Stack Info" title="Stack Info" onclick="Application.showStackInfo()"><img src="../gfx/stackinfo.png" width="32"><div>Stack Info</div></div>
	<div title="Security" onclick="Application.show_protect_stack();"><img src="../gfx/locked.png" width="32"><div>Security</div></div>
	<!--<div title="Resources"><img src="../gfx/resources.png" width="32"><div>Resources</div></div>
	<div title="Export"><img src="../gfx/export.png" width="32"><div>Export</div></div>-->
</div>

</div>



<div id="PaletteTools" class="PaletteTemplate" style="left: 830px; top: 200px;">

<div id="ToolButtonGrid">
	<div onclick="Application.choose_tool(View.TOOL_BROWSE);"><img src="../gfx/browse-hilite.png" title="Browse"></div>
	<div onclick="Application.choose_tool(View.TOOL_BUTTON);"><img src="../gfx/button-normal.png" title="Button"></div>
	<div onclick="Application.choose_tool(View.TOOL_FIELD);"><img src="../gfx/field-normal.png" title="Field"></div>
	
	<div onclick="Application.choose_tool(View.TOOL_SELECT);"><img src="../gfx/select-normal.png" title="Select"></div>
	<div onclick="Application.choose_tool(View.TOOL_LASSO);"><img src="../gfx/lasso-normal.png" title="Lasso"></div>
	<div onclick="Application.choose_tool(View.TOOL_PENCIL);"><img src="../gfx/pencil-normal.png" title="Pencil"></div>
	
	<div onclick="Application.choose_tool(View.TOOL_BRUSH);"><img src="../gfx/brush-normal.png" title="Paint Brush"></div>
	<div onclick="Application.choose_tool(View.TOOL_ERASER);"><img src="../gfx/eraser-normal.png" title="Eraser"></div>
	<div onclick="Application.choose_tool(View.TOOL_LINE);"><img src="../gfx/line-normal.png" title="Line"></div>
	
	<div onclick="Application.choose_tool(View.TOOL_SPRAY);"><img src="../gfx/spray-normal.png" title="Spray"></div>
	<div onclick="Application.choose_tool(View.TOOL_RECTANGLE);"><img src="../gfx/rectangle-normal.png" title="Rectangle"></div>
	<div onclick="Application.choose_tool(View.TOOL_ROUND_RECT);"><img src="../gfx/roundrect-normal.png" title="Round Rectangle"></div>
	
	<div onclick="Application.choose_tool(View.TOOL_BUCKET);"><img src="../gfx/bucket-normal.png" title="Paint Bucket"></div>
	<div onclick="Application.choose_tool(View.TOOL_OVAL);"><img src="../gfx/oval-normal.png" title="Oval"></div>
	<div onclick="Application.choose_tool(View.TOOL_FREE_SHAPE);"><img src="../gfx/freeshape-normal.png" title="Free Shape"></div>
	
	<div onclick="Application.choose_tool(View.TOOL_TEXT);"><img src="../gfx/text-normal.png" title="Text"></div>
	<div onclick="Application.choose_tool(View.TOOL_REG_POLY);"><img src="../gfx/regpoly-normal.png" title="Regular Polygon"></div>
	<div onclick="Application.choose_tool(View.TOOL_FREE_POLY);"><img src="../gfx/freepoly-normal.png" title="Free Polygon"></div>
	
	<div onclick="Application.choose_tool(View.TOOL_EYEDROPPER);"><img src="../gfx/eyedrop-normal.png" title="Eyedropper"></div>
	
</div>

</div>




<div id="PaletteColours" class="PaletteTemplate" style="left: 50px; top: 100px;">
</div>


<div id="PaletteLinkTo" class="PaletteTemplate" style="left: 50px; top: 100px;">
	<div style="margin: 10px; margin-bottom: 15px;">
		<div class="Label">Go to destination, then aim link at:</div>
		<input type="button" value="This Card" class="VertGap" onclick=""> <input type="button" value="This Stack" class="" onclick=""> <input type="button" value="Cancel" class="" onclick="">
	</div>
</div>


<div id="PaletteMessageBox" class="PaletteTemplate" style="left: 50px; top: 100px;">
	<div style="margin: 3px; margin-bottom: 6px;">
		<input type="text" id="MessageBoxText" style="width: 650px; border-bottom: 1px dotted gray;">
	</div>
</div>




<div id="applicationBar">
<img src="../gfx/cog.png" width="16" alt="Configure" title="Configure" class="Clickable" onclick="openApplicationMenu(this);">
</div>


<div id="DialogAbout" class="DialogTemplate" style="width: 400px; height: 300px;">

	<img src="../gfx/app-icon.png" style="float: left; padding-right: 20px; padding-left: 10px;">
	<p style="margin-top: 40px;"><strong>CinsImp</strong><br>
	<small>version 1.0</small></p>
	
	<div style="position: absolute; bottom: 14px; left: 20px; margin: 0;">
	<small>Copyright © 2009-2015 Joshua Hawcroft</small>
	</div>
	
</div>




<div id="DialogStackInfo" class="DialogTemplate Inner" style="width: 450px; height: 300px;">
	
	<div class="Label">Stack Name: <input type="text" id="StackInfoName" style="width: 320px;"></div>
	<div id="StackInfoWhere" class="Label VertGap selectable">Where: ^0</div>
	<div id="StackInfoCardCount" class="Label VertGap">Stack contains ^0.</div>
	<div id="StackInfoBkgndCount" class="Label VertGap">Stack contains ^0.</div>
	
	<div id="StackInfoSize" class="Label x2VertGap">Size of stack: ^0</div>
	<div id="StackInfoFree" class="Label VertGap">Free in stack: ^0</div>
	
	<div id="StackInfoCardSize" class="Label x2VertGap">Card size: ^0</div>
	
	<div class="Bottom"><input type="button" value="Resize..." onclick="Dialog.dismiss();Dialog.CardSize.show()"> <input type="button" value="Script..." disabled></div>
	
	<div class="Bottom Right"><input type="button" value="Compact" class="SameSizeStacked" onclick=""> <input type="button" value="Cancel" class="SameSizeStacked x2VertGap" onclick="Dialog.dismiss()"> <input type="button" value="OK" class="SameSizeStacked VertGap" onclick="Application.handleSaveStackInfo()"></div>
	
</div>


<div id="DialogCardSize" class="DialogTemplate Inner" style="width: 400px; height: 300px;">
	
	<div class="Label">Card size: <div class="styled"><select id="CardSizeList">
		<option value="512,342">Nostalgia</option>
		<option value="600,400">Small</option>
		<option value="800,600">Standard</option>
	</select></div></div>
	
	<div class="Label VertGap" id="CardSizeSize">200 x 100</div>
	
	<div class="VertGap" style="display: block; position: relative; border: 1px solid black; background-color: #333; width: 200px; height: 200px; overflow: hidden;"><div style="display: block; position: absolute; left: 0; top: 0; width: 100px; height: 80px; background-color: white; border: 1px solid black; min-width: 18px; min-height: 18px; overflow: hidden;" id="CardSizeDragger""><div style="display: block; position: absolute; right: 1px; bottom: 1px; width: 16px; height: 16px; background-color: black;"></div></div></div>
	
	<div class="Bottom Right"><input type="button" class="SameSizeStacked" value="Cancel" onclick="Dialog.dismiss()"> <input type="button" class="SameSizeStacked VertGap" value="OK" onclick="Application.handleSaveCardSize()"></div>
	
</div>

<!-- probably should take these templates and store in a separate file(s) on the server,
and have downloaded via ajax & built that way via innerHTML;
thus they wont interfere with the search engine indexability of the page,
and the main template can be kept pretty clean, with emphasis on the initial card
as dictated by the server, thus allowing for search nevigability -->

<div id="DialogProtectStack" class="DialogTemplate Inner" style="width: 480px; height:290px;">
	<div style="width: 60%; float: left;">
		<div class="Label">Protect Stack:</div>
		<div class="Label VertGap"><input type="checkbox" id="ProtectStackCantModify"> <label for="ProtectStackCantModify">Can't Modify Stack</label></div>
		<div class="Label VertGap"><input type="checkbox" id="ProtectStackCantDelete"> <label for="ProtectStackCantDelete">Can't Delete Stack</label></div>
		<div class="Label VertGap"><input type="checkbox" id="ProtectStackCantAbort"> <label for="ProtectStackCantAbort">Can't Abort Scripts</label></div>
		<div class="Label VertGap"><input type="checkbox" id="ProtectStackCantPeek"> <label for="ProtectStackCantPeek">Can't Peek at Objects</label></div>
		<div class="Label VertGap"><input type="checkbox" id="ProtectStackPrivateAccess"> <label for="ProtectStackPrivateAccess">Private Access</label></div>
	</div>
	<div style="float: left;">
		<div class="Label">Limit user level to:</div>
		<div class="Label VertGap"><input type="radio" id="ProtectStackUserLevel1" name="ProtectStackUL" value="1"> <label for="ProtectStackUserLevel1">Browsing</label></div>
		<div class="Label VertGap"><input type="radio" id="ProtectStackUserLevel2" name="ProtectStackUL" value="2"> <label for="ProtectStackUserLevel2">Typing</label></div>
		<div class="Label VertGap"><input type="radio" id="ProtectStackUserLevel3" name="ProtectStackUL" value="3"> <label for="ProtectStackUserLevel3">Painting</label></div>
		<div class="Label VertGap"><input type="radio" id="ProtectStackUserLevel4" name="ProtectStackUL" value="4"> <label for="ProtectStackUserLevel4">Authoring</label></div>
		<div class="Label VertGap"><input type="radio" id="ProtectStackUserLevel5" name="ProtectStackUL" value="5" checked> <label for="ProtectStackUserLevel5">Scripting</label></div>
	</div>
	<div class="Bottom">
		<input type="button" value="Set Password..." disabled>
	</div>
	<div class="Bottom Right">
		<input type="button" value="Cancel" onclick="Dialog.dismiss()"> <input type="button" value="OK"> 
	</div>
</div>


<div id="DialogSetPassword" class="DialogTemplate Inner" style="width: 320px; height: 210px;">
	<div class="Label">Enter new password here:</div>
	<div><input type="text" id="SetPasswordFirst" style="width: 270px;"></div>
	<div class="Label VertGap">Verify new password here:</div>
	<div><input type="text" id="SetPasswordSecond" style="width: 270px;"></div>
	
	<div class="Bottom Right">
		<input type="button" value="None" onclick=""> <input type="button" value="Cancel" onclick="Dialog.dismiss()"> <input type="button" value="OK"> 
	</div>
</div>


<div id="DialogAskPassword" class="DialogTemplate Inner" style="width: 380px; height: 140px;">
	<div id="AskPasswordPrompt" class="Label">^0</div>
	<div><input type="password" id="AskPasswordInput" style="width: 330px;"></div>
	
	<div class="Bottom Right">
		<input type="button" value="Cancel" onclick="Dialog.dismiss()"> <input type="button" value="OK"> 
	</div>
</div>




<div id="DialogButtonInfo" class="DialogTemplate Inner" style=" width: 500px; height: 470px;">
	<div class="Label">Button Name: <input type="text" id="ButtonInfoName" style="width: 300px;"></div>
	<div class="Label x2VertGap" id="ButtonInfoNumber">Card button number: ^0</div>
		<div class="Label VertGap" id="ButtonInfoID">Card button ID: ^0</div>
	<div style="width: 40%; float: left;">
		
		<div class="VertGap"><input type="checkbox" id="ButtonInfoShowName" checked> <label for="ButtonInfoShowName">Show name</label></div>
		<div class=""><input type="checkbox" id="ButtonInfoAutoHilite"> <label for="ButtonInfoAutoHilite">Auto hilite</label></div>
		<div class=""><input type="checkbox" id="ButtonInfoSharedHilite"> <label for="ButtonInfoSharedHilite">Shared hilite</label></div>
	</div>
	<div style="float: left;">
		<div class="Label x2VertGap">Style:</div>
		<div class="VertGap"><input type="radio" id="ButtonInfoType1" name="ButtonInfoType" value="1" checked> <label for="ButtonInfoType1">Transparent</label></div>
		<div class=""><input type="radio" id="ButtonInfoType2" name="ButtonInfoType" value="2"> <label for="ButtonInfoType2">Opaque</label></div>
		<div class=""><input type="radio" id="ButtonInfoType3" name="ButtonInfoType" value="3"> <label for="ButtonInfoType3">Rectangle</label></div>
		<div class=""><input type="radio" id="ButtonInfoType4" name="ButtonInfoType" value="4"> <label for="ButtonInfoType4">Shadow</label></div>
		<div class=""><input type="radio" id="ButtonInfoType5" name="ButtonInfoType" value="5"> <label for="ButtonInfoType5">Round Rectangle</label></div>
		<div class=""><input type="radio" id="ButtonInfoType6" name="ButtonInfoType" value="6"> <label for="ButtonInfoType6">Check Box</label></div>
		<div class=""><input type="radio" id="ButtonInfoType7" name="ButtonInfoType" value="7"> <label for="ButtonInfoType7">Radio Button</label></div>
		<div class=""><input type="radio" id="ButtonInfoType8" name="ButtonInfoType" value="8"> <label for="ButtonInfoType8">Popup Menu</label> <input type="button" value="Picklist..." style="display:inline-block; margin-left: 10px;" disabled></div>
	</div>
	<div class="Bottom" style="display: block; position: absolute;">
		<input type="button" class="SameSizeStacked VertGap" value="Tasks..." onclick="">
		<input type="button" class="SameSizeStacked VertGap" value="Link To..." onclick="">
		<input type="button" class="SameSizeStacked x2VertGap" value="Icon..." onclick="" disabled>
		<input type="button" class="SameSizeStacked VertGap" value="Text Style..." onclick="" disabled>
	</div>
	<div class="Right Bottom">
		<input type="button" style="margin-right: 10px;" value="Script..." onclick="" disabled>
		<input type="button" value="Cancel" onclick="Dialog.dismiss()"> <input type="button" value="OK" onclick="Application.save_info();"> 
	</div>
</div>


<div id="DialogFieldInfo" class="DialogTemplate Inner" style=" width: 620px; height: 400px;">
	<div class="Label">Field Name: <input type="text" id="FieldInfoName" style="width: 350px;"></div>
	<div style="float: left; width: 28%;">
		<div class="Label x2VertGap">Style:</div>
		<div class="VertGap"><input type="radio" id="FieldInfoType1" name="FieldInfoType" value="1" checked> <label for="FieldInfoType1">Transparent</label></div>
		<div class=""><input type="radio" id="FieldInfoType2" name="FieldInfoType" value="2"> <label for="FieldInfoType2">Opaque</label></div>
		<div class=""><input type="radio" id="FieldInfoType3" name="FieldInfoType" value="3"> <label for="FieldInfoType3">Rectangle</label></div>
		<div class=""><input type="radio" id="FieldInfoType4" name="FieldInfoType" value="4"> <label for="FieldInfoType4">Shadow</label></div>
		<div class=""><input type="radio" id="FieldInfoType5" name="FieldInfoType" value="5"> <label for="FieldInfoType5">Scrolling</label></div>
	</div>
	<div class="Label x2VertGap" id="FieldInfoNumber">Card field number: ^0</div>
	<div class="Label VertGap" id="FieldInfoID">Card field ID: ^0</div>
	<div style="float: left; width: 30%;">
		
		
		<div class="VertGap"><input type="checkbox" id="FieldInfoShowName"> <label for="FieldInfoShowName">Lock text</label></div>
		<div class=""><input type="checkbox" id="FieldInfoDontWrap"> <label for="FieldInfoDontWrap">Don't wrap</label></div>
		<div class=""><input type="checkbox" id="FieldInfoAutoTab"> <label for="FieldInfoAutoTab">Auto tab</label></div>
		<div class=""><input type="checkbox" id="FieldInfoSharedText"> <label for="FieldInfoSharedText">Shared text</label></div>
		<div class=""><input type="checkbox" id="FieldInfoDontSearch"> <label for="FieldInfoDontSearch">Don't search</label></div>
	
	</div>
	<div style="float: left;">
		<div class="VertGap"><input type="checkbox" id="FieldInfoShowLines"> <label for="FieldInfoShowLines">Show lines</label></div>
		<div class=""><input type="checkbox" id="FieldInfoWideMargins"> <label for="FieldInfoWideMargins">Wide margins</label></div>
		<div class=""><input type="checkbox" id="FieldInfoAutoSelect"> <label for="FieldInfoAutoSelect">Auto select</label></div>
		<div style="padding-left: 20px;"><input type="checkbox" id="FieldInfoMultipleLines"> <label for="FieldInfoMultipleLines">Multiple lines</label></div>
		<div class="VertGap"><input type="checkbox" id="FieldInfoColumnar"> <label for="FieldInfoColumnar">Columnar</label> 
			<input type="button" value="Columns..." style="display:inline-block; margin-left: 10px;"></div>
		<div style="padding-left: 20px;"><input type="checkbox" id="FieldInfoHasHeader"> <label for="FieldInfoHasHeader">Has header</label></div>
	</div>
	
	<div class="Bottom" style="display: block; position: absolute;">
			<input type="button" class="SameSizeStacked" value="Picklist..." onclick="" disabled>
			<input type="button" class="SameSizeStacked VertGap" value="Text Style..." onclick="">
	</div>
	<div class="Right Bottom">
		<input type="button" style="margin-right: 10px;" value="Script..." onclick="" disabled> <input type="button" value="Cancel" onclick="Dialog.dismiss()"> <input type="button" value="OK"> 
	</div>
</div>


<div id="DialogBkgndInfo" class="DialogTemplate Inner" style="width: 450px; height: 300px;">
	<div class="Label">Background Name: <input type="text" id="BkgndInfoName" style="width: 260px;"></div>
	<div id="BkgndInfoID" class="Label VertGap selectable">Background ID: ^0</div>
	<div id="BkgndInfoCardCount" class="Label VertGap">Background shared by ^0.</div>
	<div id="BkgndInfoFieldCount" class="Label VertGap">Contains ^0.</div>
	<div id="BkgndInfoButtonCount" class="Label VertGap">Contains ^0.</div>
	
	<div class="x2VertGap"><input type="checkbox" id="BkgndInfoCantDelete"> <label for="BkgndInfoCantDelete">Can't delete background</label></div>
	<div class=""><input type="checkbox" id="BkgndInfoDontSearch"> <label for="BkgndInfoDontSearch">Don't search background</label></div>
	
	<div class="Bottom"><input type="button" value="Script..." onclick="" disabled></div>
	<div class="Bottom Right"><input type="button" value="Cancel" class="" onclick="Dialog.dismiss()"> <input type="button" value="OK" class="" onclick=""></div>
</div>


<div id="DialogCardInfo" class="DialogTemplate Inner" style="width: 450px; height: 330px;">
	
	<div class="Label">Card Name: <input type="text" id="CardInfoName" style="width: 310px;"></div>
	<div id="CardInfoNumber" class="Label VertGap">Card Number: ^0 out of ^1</div>
	<div id="CardInfoID" class="Label VertGap selectable">Card ID: ^0</div>
	<div id="CardInfoFieldCount" class="Label VertGap">Contains ^0.</div>
	<div id="CardInfoButtonCount" class="Label VertGap">Contains ^0.</div>
	
	<div class="x2VertGap"><input type="checkbox" id="CardInfoMarked"> <label for="CardInfoMarked">Marked</label></div>
	<div class=""><input type="checkbox" id="CardInfoDontSearch"> <label for="CardInfoDontSearch">Don't search card</label></div>
	<div class=""><input type="checkbox" id="CardInfoCantDelete"> <label for="CardInfoCantDelete">Can't delete card</label></div>
	
	<div class="Bottom"><input type="button" value="Script..." onclick="" disabled></div>
	<div class="Bottom Right"><input type="button" value="Cancel" class="" onclick="Dialog.dismiss()"> <input type="button" value="OK" class="" onclick=""></div>
</div>


<div id="DialogSetIcon" class="DialogTemplate Inner" style="width: 480px; height: 430px;">
	<div id="SetIconInfo" class="Label">Icon ID: ^0  ^1</div>
	<div id="IconPicker" style="width: 448px; height: 320px; border: 1px solid black; margin-top: 5px; overflow-y: scroll; overflow-x: hidden;"></div>
	
	<div class="Bottom Right">
		<input type="button" value="None" class="" onclick=""> <input type="button" value="Cancel" class="" onclick="Dialog.dismiss()"> <input type="button" value="OK" class="" onclick="">
	</div>
</div>


<div id="DialogScriptEditor" class="DialogTemplate Inner" style="width: 685px; height: 550px;">
<!-- it would be useful to think about how to incorporate a debugger, as the window style is
not particularly conducive to it; though we could introduce a debugger dialog with built-in variable watcher,
call stack and debug buttons ? -->
	<div id="ScriptEditorObject" class="Label">Script of ^0</div>
	<div id="ScriptEditorContainer" style="width: 650px; height: 440px; border: 1px solid black; margin-top: 5px;"></div>
	<div class="Bottom">
		<!-- used to be find and print; think we can do better, like what was in HC 2,
		a handler jump list at least and maybe also a find option ? -->
	</div>
	<div class="Bottom Right">
		<input type="button" value="Cancel" class="" onclick="Dialog.dismiss()"> <input type="button" value="OK" class="" onclick="">
	</div>
</div>


<div id="DialogRecent" class="DialogTemplate Inner" style="width: 570px; height: 490px;">
	<div id="RecentList" style="width:540px; height:450px; overflow:hidden;">
	</div>
</div>


<div id="DialogTextStyle" class="DialogTemplate Inner" style=" width: 620px; height: 380px;">
	<div style="float: left; margin-right: 30px;" class="">
		<select id="TextFont" size="8" class="multipleLine" style="height: 240px; width: 260px;">
			<option value="sans-serif">Sans-Serif</option>
			<option value="serif">Serif</option>
			<option value="monospace">Monospace</option>
			<!-- can include a wide array of open-source/copy-left WOFF / TrueType / OpenType fonts, which
			maybe embedded and downloaded from the server on demand;
			can include a Fonts folder within the distribution so additional fonts can be added -->
		</select>
	</div>
	<div style="float: left; width: 26%;">
		<div class="Label">Size: <input type="text" id="TextSize" value="12pt" style="width: 70px;"></div>
		
		<div class="Label x2VertGap">Align:</div>
		<div class="VertGap"><input type="radio" id="TextAlign1" name="TextAlign" value="left" checked> <label for="TextAlign1">Left</label></div>
		<div class=""><input type="radio" id="TextAlign2" name="TextAlign" value="center"> <label for="TextAlign2">Center</label></div>
		<div class=""><input type="radio" id="TextAlign3" name="TextAlign" value="right"> <label for="TextAlign3">Right</label></div>
		<div class=""><input type="radio" id="TextAlign4" name="TextAlign" value="justify"> <label for="TextAlign4">Justify</label></div>
	</div>
	
	<div style="float: left; ">
		<div class="Label">Style:</div>
		<div class="VertGap"><input type="checkbox" id="TextStyle1"> <label for="TextStyle1">Bold</label></div>
		<div class=""><input type="checkbox" id="TextStyle2"> <label for="TextStyle2">Italic</label></div>
		<div class=""><input type="checkbox" id="TextStyle3"> <label for="TextStyle3">Shadow</label></div>
		<div class=""><input type="checkbox" id="TextStyle4"> <label for="TextStyle4">Condense</label></div>
		<div class=""><input type="checkbox" id="TextStyle5"> <label for="TextStyle5">Extend</label></div>
		
	</div>
	
	<div class="Bottom">
		<div id="TextSample" style="width: 420px; height: 75px; overflow: hidden; border: 1px solid gray; padding: 3px; box-sizing: border-box; ">Sample</div>
	</div>
	
	
	<div class="Right Bottom">
		<input type="button" class="SameSizeStacked" value="Cancel" onclick="Dialog.dismiss()"> <input type="button" class="SameSizeStacked VertGap" value="OK"> 
	</div>
</div>



<div id="DialogProgress" class="DialogTemplate Inner" style=" width: 400px; height: 80px; cursor: progress;">
	<div class="Label" id="ProgressMessage">Saving changes...</div>
	<div class="Progress Indeterminate VertGap" style="width: 370px;"><div style="width: 100%"></div></div>
</div>







<script>

Dialog.Progress = new Dialog('Please Wait', document.getElementById('DialogProgress'), Dialog.FLAG_NOCLOSE);
//Dialog.Progress.show();

Dialog.TextStyle = new Dialog('Text Properties', document.getElementById('DialogTextStyle'));
//Dialog.TextStyle.show();

Dialog.Recent = new Dialog('Recent Cards', document.getElementById('DialogRecent'));
//Dialog.Recent.show();

Dialog.ScriptEditor = new Dialog('', document.getElementById('DialogScriptEditor'));
//Dialog.ScriptEditor.show();

Dialog.SetIcon = new Dialog('Set Icon', document.getElementById('DialogSetIcon'));
//Dialog.SetIcon.show();


Dialog.AskPassword = new Dialog('', document.getElementById('DialogAskPassword'));
//Dialog.AskPassword.show();

Dialog.SetPassword = new Dialog('Set Stack Password', document.getElementById('DialogSetPassword'));
//Dialog.SetPassword.show();

Dialog.CardInfo = new Dialog('Card Info', document.getElementById('DialogCardInfo'));
//Dialog.CardInfo.show();

Dialog.BkgndInfo = new Dialog('Bkgnd Info', document.getElementById('DialogBkgndInfo'));
//Dialog.BkgndInfo.show();

Dialog.FieldInfo = new Dialog('Field Info', document.getElementById('DialogFieldInfo'));
///Dialog.FieldInfo.show();

Dialog.ButtonInfo = new Dialog('Button Info', document.getElementById('DialogButtonInfo'));
//Dialog.ButtonInfo.show();


Dialog.ProtectStack = new Dialog('Protect Stack', document.getElementById('DialogProtectStack'));
//Dialog.ProtectStack.show();

Dialog.StackInfo = new Dialog('Stack Info', document.getElementById('DialogStackInfo'));
//Dialog.StackInfo.show();

Dialog.CardSize = new Dialog('Card Size', document.getElementById('DialogCardSize'));
//Dialog.CardSize.show();


Palette.LinkTo = new Palette(document.getElementById('PaletteLinkTo'), 0);
//Palette.LinkTo.show();

Palette.MessageBox = new Palette(document.getElementById('PaletteMessageBox'), 0);
//Palette.MessageBox.show();

Palette.Navigator = new Palette(document.getElementById('PaletteNavigator'), Palette.TITLE_VERTICAL);
Palette.Tools = new Palette(document.getElementById('PaletteTools'), 0);
Palette.Authoring = new Palette(document.getElementById('PaletteAuthoring'), Palette.TITLE_VERTICAL);
Palette.Colours = new Palette(document.getElementById('PaletteColours'), 0);


PopupMenu.ApplicationMenu = new PopupMenu();
var m = PopupMenu.ApplicationMenu;

m.appendItem('Navigator', Palette.Navigator.toggle.bind(Palette.Navigator));
m.appendItem('Message', Palette.MessageBox.toggle.bind(Palette.MessageBox));
m.appendItem('Tools', Palette.Tools.toggle.bind(Palette.Tools));
m.appendItem('Authoring', Palette.Authoring.toggle.bind(Palette.Authoring));
m.appendItem('Colours', Palette.Colours.toggle.bind(Palette.Colours));
//m.appendItem('Line Sizes', null);
m.appendItem('-', null);
m.appendItem('New Stack', null);
m.appendItem('Save a Copy', null);
m.appendItem('Delete Stack', null);
m.appendItem('-', null);
m.appendItem('About CinsImp', function() { Dialog.About.centre(); Dialog.About.show(); });


Dialog.About = new Dialog('About CinsImp', document.getElementById('DialogAbout'));

//Palette.Navigator.show();
//Palette.Tools.show();






function chooseColour(in_event)
{
	var e = in_event || window.event;
	var dom_swatch = e.target;
	alert(dom_swatch.style.backgroundColor);
}


function setupColours()
{
	var dom_table = document.createElement('div');
	dom_table.className = 'ColourSwatchTable';
	for (var c = 0; c < Colours.DEFAULT_SET.length; c++)
	{
		var colour = Colours.DEFAULT_SET[c];
		
		var dom_swatch = document.createElement('div');
		dom_swatch.style.backgroundColor = 'rgba('+colour[0]+','+colour[1]+','+colour[2]+',1)';
		dom_table.appendChild(dom_swatch);
		
		dom_swatch.addEventListener('mousedown', chooseColour);
	}
	Palette.Colours._root.appendChild(dom_table);
	
	var cell_size = dom_table.children[0].clientWidth;
	var per_row = Math.floor(dom_table.clientWidth / dom_table.children[0].clientWidth);
	var rows = Math.ceil(Colours.DEFAULT_SET.length / per_row);
	
	Palette.Colours.setSize([per_row * cell_size, rows * cell_size]);
	Palette.Colours._div.style.opacity = 1.0; /* not appropriate to have translucent colour swatches */
	
	//var dom_selector = document.createElement('img');
	
}

setupColours();





</script>


<script language="javascript" type="text/javascript">var successScript = '';</script>

<script>
var sw = document.getElementById('stackWindow');
Application.setDefaultPositions(sw.clientWidth, sw.clientHeight);
Palette.Navigator.show();

Palette.Authoring.show();
Palette.Tools.show();

Application.init();
</script>


</form>
</body>
</html>
